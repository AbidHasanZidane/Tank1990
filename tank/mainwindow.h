#ifndef MAINWINDOW_H
#define MAINWINDOW_H

#include<QMainWindow>
#include<QWidget>
#include<QGraphicsPixmapItem>
#include<QGraphicsView>
#include<QGraphicsScene>
#include<QList>
#include<QTimer>
#include<QtDebug>
#include<QKeyEvent>
#include"mytank.h"
#include"bullet.h"
#include"enemy.h"
#include"building.h"
#include"enemybullet.h"

namespace Ui {
class MainWindow;
}

class MainWindow : public QMainWindow
{
    Q_OBJECT

public:
    explicit MainWindow(QWidget *parent = nullptr);
    ~MainWindow();

    void keyPressEvent(QKeyEvent* event);

    void BulletShoot();

    void EnemyShoot();

    void eBulletShoot();

    void CreatEnemy(int x,int y);

    void EnemyBoom();

    void EnemyMove();

    void myTankCollide();

    void myTankCollide2();

    void BuildingCreate(int x,int y,int kind);

    void BuildingCollide();

    void BuildingCollide2();

    void BuildingCollide3();

    void BuildingCollide4();

    void clear();

    void game1();

    void game2();

    void game3();

    void game4();

    void game5();

private:
    Ui::MainWindow *ui;

    QGraphicsView mGameView;

    QGraphicsScene mScene;

    QGraphicsPixmapItem mBackGround;

    MyTank mTank;

    QTimer* BulletTime;

    QTimer* Time;

    QTimer* Time2;

    QList<Bullet*>mBullet;

    QList<Enemy*>mEnemy;

    QList<Building*>mBuilding;

    QList<enemyBullet*>eBullet;

    int dir;

    int killnum;

    int map1[18][32]={
        {3,0,3,0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	1,	1,	0,	1,	1,	1,1,0,0,1,1,0,0,0,0,0,1,1,1},
        {0,0,0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	1,	1,	0,	1,	1,	1,	1,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	1},
        {3,0,0,	1,	1,	1,	1,	1,	1,	0,	1,	0,	0,	1,	1,	0,	0,	1,	1,	1,	0,	1,	0,	1,	1,	1,	1,	1,	1,	0,	0,	1},
        {0,0,0,	2,	2,	2,	2,	2,	2,	0,	0,	0,	0,	1,	1,	0,	0,	0,	1,	1,	0,	0,	0,	2,	2,	2,	2,	2,	2,	0,	0,	1},
        {0,0,0,	0,	0,	0,	0,	4,	0,	0,	0,	0,	0,	1,	1,	0,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	4,	0,	0,	0,	1},
        {0,0,0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
        {0,0,0,	0,	0,	0,	0,	4,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	4,	0,	0,	0,	0},
        {0,0,0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
        {0,0,0,	0,	0,	0,	0,	4,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	4,	0,	0,	0,	0},
        {0,0,0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
        {3,0,0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
        {},
        {},
        {},
        {0,0,0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
        {0,0,0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	2,	2,	2,	2,	2,	2,	2,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
        {0,0,0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
        {0,0,0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0}
    };
    int map2[18][32]={
       { 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
       { 0,	0,	0,	0,	0,	0,	0,	2,	2,	2,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
       { 0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0},
       { 0,	0,	0,	0,	2,	3,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	2,	2,	2,	2,	0,	0,	0,	0,	0,	0,	0},
       { 0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0},
       { 0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	3,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0},
       { 0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0},
       { 0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0},
       { 0,	0,	1,	1,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	1,	3,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0},
       { 0,	0,	1,	1,	1,	1,	4,	0,	1,	0,	0,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0},
       { 0,	0,	0,	2,	0,	1,	0,	0,	1,	1,	1,	1,	1,	0,	2,	0,	2,	1,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	1,	1,	0,	0},
       { 0,	0,	0,	2,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	2,	0,	2,	1,	1,	1,	4,	0,	1,	0,	0,	0,	0,	1,	1,	1,	0,	0},
       { 0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	2,	0,	1,	0,	0,	1,	1,	1,	1,	1,	0,	2,	0,	0,	0},
       { 0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	2,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0},
       { 0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0},
       { 0,	0,	0,	0,	0,	0,	0,	2,	2,	2,	2,	0,	0,	0,	0,	0,	0,	0,	2,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0},
       { 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	2,	2,	0,	0,	0,	0,	0},
       { 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	2,	2,	2,	2,	0,	0,	0,	0,	0,	0,	0}
    };
    int map3[18][32]{
        {3,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	3,	0,	0,	0,	0,	0,	1,	2,	1,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	0,	1,	2,	0,	1,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	0,	0,	1,	2,	0,	1,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	1,	0,	0,	3,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,},
        {0,	0,	3,	0,	0,	0,	1,	2,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	2,	1,	0,	0,	0,	1,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	0,	0,	4,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	0,	0,	1,	1,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	1,	2,	1,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	1,	0,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	1,	1,	0,	0,	2,	1,	0,	0,	0,	2,	1,	0,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	0,	1,	0,	0,	2,	0,	0,	0,	0,	0,	2,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	1,	0,	2,	0,	0,	0,	2,	2,	0,	0,	0,	1,	0,	0,	0,	3,	0,	0,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	1,	2,	0,	0,	0,	0,	0,	0,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	0,	0,	0,	0,	0,	1,	1,	1,	0,	3,	0,	3,	0,	3,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	0,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,	1,	1,	0,	0,	0,	0,	0,},
        {0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	0,	0,	0,	0,	0,}

    };
    int map4[18][32]{
        {0,	0,	0,	4,	0,	0,	0,	0,	1,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	0,	0,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	4,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	1,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	1,	0,	1,	1,	0,	1,	0,	0,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	4,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	1,	0,	0,	0,	1,	0,	0,	1,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	2,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	4,	0,	1,	0,	0,	0,	0,	2,	2,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	1,	1,	0,	0,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	2,	1,	0,	0,	1,	0,	0,	0,	0,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	4,	0,	0,	0,	1,	1,	0,	0,	0,	0,	1,	0,	1,	0,	0,	0,	0,	1,	0,	1,	0,	0,	0,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	0,	1,	0,	1,	1,	1,	0,	0,	1,	0,	1,	0,	0,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	4,	0,	0,	0,	0,	1,	1,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	1,	0,	0,	0,	0,	0,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	1,	0,	0,	0,	1,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	4,	0,	0,	0,	0,	0,	1,	0,	1,	0,	0,	1,	0,	1,	1,	0,	1,	0,	0,	0,	0,	0,	0,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	1,	0,	0,	1,	1,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	4,	0,	0,	0,	0,	0,	0,	1,	1,	0,	1,	1,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {0,	0,	0,	4,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	4,	0,	0,	0,	0,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,}

    };
    int map5[18][32]{
        {3,	0,	3,	0,	3,	0,	3,	0,	3,	0,	3,	0,	3,	0,	3,	0,	3,	0,	0,	0,	0,	3,	0,	3,	3,	0,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	3,	3,	0,	0,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	0,	3,	0,	3,	0,	3,	0,	3,	3,	0,	0,	0,	1,	3,	3,	0,	1,	3,	0,	3,	0,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	3,	0,	0,	3,	0,	0,	0,	1,	1,	1,	0,	0,	0,	1,	0,	0,	3,	0,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	0,	3,	3,	0,	0,	3,	0,	0,	1,	1,	0,	1,	0,	1,	0,	1,	0,	1,	1,	0,	3,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	1,	0,	0,	1,	3,	0,	1,	0,	1,	0,	3,	0,	1,	0,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	0,	3,	0,	1,	0,	1,	1,	1,	0,	1,	3,	0,	0,	1,	3,	0,	1,	0,	3,	0,	1,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	3,	0,	1,	3,	0,	3,	0,	1,	1,	0,	0,	1,	3,	0,	3,	0,	1,	3,	0,	1,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	3,	0,	0,	1,	0,	0,	0,	0,	3,	0,	1,	0,	1,	0,	0,	0,	0,	1,	0,	0,	1,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	0,	1,	3,	0,	3,	0,	3,	0,	3,	0,	1,	1,	1,	3,	0,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	0,	1,	1,	0,	0,	0,	0,	0,	3,	0,	3,	0,	0,	1,	0,	0,	1,	1,	1,	0,	1,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	1,	1,	3,	0,	3,	3,	0,	0,	0,	0,	0,	1,	0,	1,	1,	1,	0,	3,	0,	1,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	0,	1,	3,	0,	3,	3,	0,	0,	1,	1,	3,	3,	0,	0,	0,	0,	0,	1,	0,	0,	1,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	1,	0,	3,	0,	3,	0,	1,	0,	2,	3,	0,	0,	1,	0,	1,	0,	1,	1,	1,	3,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	3,	0,	1,	0,	0,	3,	0,	1,	2,	2,	0,	0,	1,	3,	3,	0,	1,	3,	0,	3,	0,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	3,	0,	1,	1,	0,	0,	0,	0,	0,	0,	1,	0,	3,	3,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,},
        {3,	0,	3,	0,	3,	0,	3,	0,	3,	0,	1,	1,	1,	1,	1,	1,	1,	1,	0,	0,	0,	1,	3,	0,	3,	0,	3,	0,	3,	0,	3,	0,},
        {0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,}

    };
};


#endif // MAINWINDOW_H

